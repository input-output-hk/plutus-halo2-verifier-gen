use aiken/builtin.{bls12_381_final_verify, bls12_381_miller_loop}
use aiken/crypto/bls12_381/g1.{
add as addG1, generator as generatorG1, scale as scaleG1, sub as subG1,
}
use aiken/crypto/bls12_381/g2.{
add as addG2, generator as generatorG2, scale as scaleG2, sub as subG2,
}
use cardano/assets.{PolicyId}
use cardano/transaction.{Transaction}
use transcript.{common_scalar, construct_transcript, read_scalar, read_point,squeeze_challenge}
use aiken/crypto/bls12_381/scalar.{
Scalar, add, field_prime as bls12_381_field_prime, from_int, mul, neg, to_int, sub
}
use aiken/crypto/bitwise.{State}


// inputs, equations and results are extracted from ATMS with lookups that is set up in examples/equations_test.rs
test gates_equations() {

let evaluation_at_0 = from_int(0)
let last_evaluation = from_int(0)
let active_rows = from_int(0)

let product_eval_1 = from_int(0)
let product_next_eval_1 = from_int(0)

let permuted_input_eval_1 = from_int(0)
let permuted_input_inv_eval_1 = from_int(0)
let permuted_table_eval_1 = from_int(0)

let scalarZero = from_int(0)
let scalarOne = from_int(1)

let theta = from_int(0x48a17da0ce7885b53b609909665412512739401571ab20716244304db94b428f)
let beta = from_int(1)
let gamma = from_int(1)

let advice_eval_1 = from_int(0x02adbf91251b4db148b220a521ac2a208ee75b53ac893ac2fbf369c2df26aeb7)
let advice_eval_2 = from_int(0x40f4f14c27358575f7811cf8947279ae6d0247774fc4f55f78f3ff95b9b05288)
let advice_eval_3 = from_int(0x0a55fe86313a855488336dc7a6fd1b1aaa15f3b7fe595c949b4fc50af2d5519f)
let advice_eval_4 = from_int(0x1056d65d58330b0dc99f3344e205974876396e8d3beb5a8ff369dc43a27c817b)
let advice_eval_5 = from_int(0x596c729da70d11df208e780c187c9f92b2ae136ae5c035cdc88db1300f2851b9)
let advice_eval_6 = from_int(0x3dfd79f8ad5aa3812b3e5a25f0adede82d6de0b37f94541b5a7e98eaf0106bf4)

let advice_eval_8 = from_int(0x3c6bef5b745941d713423d8ad42b947cd60e355b4f5c733b4cd93cd6b5ad4193)
let advice_eval_9 = from_int(0x079eba8060e0597be2afeb60ef1f7b8feeba30f9fd02c57235cc6a9e77272891)
let advice_eval_10 = from_int(0x2837baa30f5f061f6742ddecf0ad0783f9e16815b3f0dc17eb520a702bb91891)
let advice_eval_11 = from_int(0x457851bcc0fc8308acef1f8681f2039d5895350200b23bb7966768be24b271e8)

let fixed_eval_1 = from_int(0x55928b88ddb296b0cb27cb9f2512db9d1a5ce2708b0421dca903a72200691774)
let fixed_eval_2 = from_int(0x6e1a2c9fa4b502a0680b092827714a7de50833209b97f240de7432cff53768e3)
let fixed_eval_3 = from_int(0x0c1d45573ba7fefcf37741d95c9dad6c52bce5f2f1461c0b79831ecbd8995ec7)
let fixed_eval_4 = from_int(0x2add66566e552b231bef08e94424344ca07400e91f4f51360278817f430857f4)
let fixed_eval_5 = from_int(0x2d610cc6b0a63d1bc1e827715e94753df0d3018715ba7bd443b3ffcbf426c95f)
let fixed_eval_6 = from_int(0x5f9db6d17c659db2cc421296047496044fe679f45eec63f2464cbbde29d120e7)
let fixed_eval_7 = from_int(0x152fd5eadc1dbd89997d896a208f255e14ee436fd990bd803b932fc5474c823c)
let fixed_eval_8 = from_int(0x0000000000000000000000000000000000000000000000000000000000000000)
let fixed_eval_9 = from_int(0x00f11e53da736ba2217fe8eb0f4ee6ea180ae1343fe4ab720715fe949a6a2400)
let fixed_eval_10 = from_int(0x6cdb9fe1cfaaf83a7874e9fe7a9124008735a03a54165e2704fb1bfc9ad7fdc0)
let fixed_eval_11 = from_int(0x143a74155111cf71e255bc42cf7ea10f14b4c9c51c8eb3d61734e9e7df748c35)
let fixed_eval_12 = from_int(0x2c675385c9ebc777a0d209b504967291cce5cb36b355e6c54459cadc26ffc9ea)
let fixed_eval_13 = from_int(0x6b723f8bc3e096e8b0257c6e53f1071c0d21a438325f8c6aa21ef2e934b79a7f)
let fixed_eval_14 = from_int(0x3fe720408f139d6e5f4b2e4fd8925060c58b2be1c240874678ed06473e9363b9)
let fixed_eval_15 = from_int(0x346bc79eed23fabe8af1dc4da5704e07ac59a90ec901e7e65456cefff6844f73)
let fixed_eval_16 = from_int(0x3055ecb26c30cb3c4950f0caf83585b7450d3b382119f95ded58d8ada19c645a)

let fixed_eval_18 = from_int(0x6c0f77c9e74cefcafd467dd909cb547b7a7b0d6def980122644ee03290f604b3)
let fixed_eval_19 = from_int(0x38cf1a5f9ffaba8d158931b79845fba2da08d4fe18b337f911d5cb3bc5fd3b99)
let fixed_eval_20 = from_int(0x2bc55e2e54c94a75f50b55b2a5fd273ec970570295edc6317eeb60a68b956fc1)

{{{GATES}}}

{{{LOOKUP_TABLES_EXPRESSIONS}}}

{{{LOOKUP_INPUTS_EXPRESSIONS}}}

{{{LOOKUPS}}}

    expect gate_eq1 == from_int(13)
    expect gate_eq2 == from_int(42)
    expect gate_eq3 == from_int(42)
    expect gate_eq4 == from_int(42)
    expect gate_eq5 == from_int(42)

    expect lookup_expression_1_1 == from_int(42)
    expect lookup_expression_2_1 == from_int(42)
    expect lookup_expression_3_1 == from_int(42)
    expect lookup_expression_4_1 == from_int(42)
    expect lookup_expression_5_1 == from_int(42)
}
